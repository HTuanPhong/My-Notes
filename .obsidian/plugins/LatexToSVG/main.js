/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => LatexSvgPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian2 = require("obsidian");

// settings.ts
var import_obsidian = require("obsidian");
var fs = __toESM(require("fs"));
var path = __toESM(require("path"));
var DEFAULT_SETTINGS = {
  invertColorsInDarkMode: true
};
var LatexSvgSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h4", { text: "Latex To Svg settings" });
    new import_obsidian.Setting(containerEl).setName("Clear cached SVGs").setDesc("SVGs rendered with LatexSvg are stored in a database, so diagrams don't have to be re-rendered from scratch every time you open a page. Use this to clear the cache and force all diagrams to be re-rendered.").addButton((button) => button.setIcon("trash").setTooltip("Clear cached SVGs").onClick(async () => {
      const basePath = this.app.vault.adapter.basePath;
      const dir = path.resolve(path.join(basePath, `/.obsidian/plugins/LatexToSVG/temp`));
      fs.rmSync(dir, { recursive: true, force: true });
      fs.mkdirSync(dir);
    }));
  }
};

// main.ts
var fs2 = __toESM(require("fs"));
var path2 = __toESM(require("path"));
var import_child_process = require("child_process");
var LatexSvgPlugin = class extends import_obsidian2.Plugin {
  async onload() {
    await this.loadSettings();
    this.addSettingTab(new LatexSvgSettingTab(this.app, this));
    this.hookCloseButton();
    this.registerLatexCodeBlock();
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  hookCloseButton() {
    const closeButton = document.querySelector("div.mod-close");
    if (closeButton) {
      closeButton.addEventListener("mouseenter", () => {
        this.deleteUnusedSVG();
        this.rewriteIndex();
      });
    }
  }
  rewriteIndex() {
    const { vault } = this.app;
    const files = vault.getMarkdownFiles();
    files.forEach((indexfile) => {
      if (indexfile.basename.includes("index - ")) {
        const basePath = this.app.vault.adapter.basePath;
        const resourcesPath = path2.join(basePath, path2.join(path2.join(indexfile.path, "../"), "Resources"));
        let result = "";
        const files2 = fs2.readdirSync(resourcesPath);
        files2.forEach(function(file) {
          const filePath = path2.join(resourcesPath, file);
          if (fs2.statSync(filePath).isDirectory()) {
            if (file != "Figures") {
              result += `
${file}:

`;
              const subFiles = fs2.readdirSync(filePath);
              subFiles.forEach(function(subFile) {
                result += `- [${subFile}](<${path2.join(indexfile.path, "../", "Resources", file, subFile).replace(/\\/g, "/")}>)
`;
              });
            }
          } else {
            result = `- [${file}](<${path2.join(indexfile.path, "../", "Resources", file).replace(/\\/g, "/")}>)
` + result;
          }
        });
        fs2.writeFileSync(path2.join(basePath, indexfile.path), result);
      }
    });
  }
  async deleteUnusedSVG() {
    const { vault } = this.app;
    const fileContents = await Promise.all(
      vault.getMarkdownFiles().map((file) => vault.cachedRead(file))
    );
    const codeBlocks = [];
    fileContents.forEach((content) => {
      const regex = /^```latex([\s\S]*?)^```/gm;
      let match = regex.exec(content);
      while (match !== null) {
        codeBlocks.push(this.md5(match[1].trim().replaceAll("&nbsp;", "").split("\n").map((line) => line.trim()).filter((line) => line).join("\n")));
        match = regex.exec(content);
      }
    });
    const basePath = this.app.vault.adapter.basePath;
    const tempPath = path2.join(basePath, `/.obsidian/plugins/LatexToSVG/temp`);
    fs2.readdir(tempPath, (err, files) => {
      if (err)
        throw err;
      files.forEach((file) => {
        const filePath = path2.join(tempPath, file);
        if (!codeBlocks.includes(file)) {
          fs2.rmSync(filePath, { recursive: true, force: true });
        }
      });
    });
  }
  recolorSVG(svg) {
    svg = svg.replaceAll(/(#000)/g, `currentColor`).replaceAll(/(#fff)/g, `var(--background-primary)`);
    return svg;
  }
  tidyLatexSource(source) {
    return source.replaceAll("&nbsp;", "").split("\n").map((line) => line.trim()).filter((line) => line).join("\n");
  }
  //  Formatted version of a popular md5 implementation
  //  Original copyright (c) Paul Johnston & Greg Holt.
  //  The function itself is now 42 lines long.
  md5(inputString) {
    var hc = "0123456789abcdef";
    function rh(n) {
      var j, s = "";
      for (j = 0; j <= 3; j++)
        s += hc.charAt(n >> j * 8 + 4 & 15) + hc.charAt(n >> j * 8 & 15);
      return s;
    }
    function ad(x2, y) {
      var l = (x2 & 65535) + (y & 65535);
      var m = (x2 >> 16) + (y >> 16) + (l >> 16);
      return m << 16 | l & 65535;
    }
    function rl(n, c2) {
      return n << c2 | n >>> 32 - c2;
    }
    function cm(q, a2, b2, x2, s, t) {
      return ad(rl(ad(ad(a2, q), ad(x2, t)), s), b2);
    }
    function ff(a2, b2, c2, d2, x2, s, t) {
      return cm(b2 & c2 | ~b2 & d2, a2, b2, x2, s, t);
    }
    function gg(a2, b2, c2, d2, x2, s, t) {
      return cm(b2 & d2 | c2 & ~d2, a2, b2, x2, s, t);
    }
    function hh(a2, b2, c2, d2, x2, s, t) {
      return cm(b2 ^ c2 ^ d2, a2, b2, x2, s, t);
    }
    function ii(a2, b2, c2, d2, x2, s, t) {
      return cm(c2 ^ (b2 | ~d2), a2, b2, x2, s, t);
    }
    function sb(x2) {
      var i2;
      var nblk = (x2.length + 8 >> 6) + 1;
      var blks = new Array(nblk * 16);
      for (i2 = 0; i2 < nblk * 16; i2++)
        blks[i2] = 0;
      for (i2 = 0; i2 < x2.length; i2++)
        blks[i2 >> 2] |= x2.charCodeAt(i2) << i2 % 4 * 8;
      blks[i2 >> 2] |= 128 << i2 % 4 * 8;
      blks[nblk * 16 - 2] = x2.length * 8;
      return blks;
    }
    var i, x = sb("" + inputString), a = 1732584193, b = -271733879, c = -1732584194, d = 271733878, olda, oldb, oldc, oldd;
    for (i = 0; i < x.length; i += 16) {
      olda = a;
      oldb = b;
      oldc = c;
      oldd = d;
      a = ff(a, b, c, d, x[i + 0], 7, -680876936);
      d = ff(d, a, b, c, x[i + 1], 12, -389564586);
      c = ff(c, d, a, b, x[i + 2], 17, 606105819);
      b = ff(b, c, d, a, x[i + 3], 22, -1044525330);
      a = ff(a, b, c, d, x[i + 4], 7, -176418897);
      d = ff(d, a, b, c, x[i + 5], 12, 1200080426);
      c = ff(c, d, a, b, x[i + 6], 17, -1473231341);
      b = ff(b, c, d, a, x[i + 7], 22, -45705983);
      a = ff(a, b, c, d, x[i + 8], 7, 1770035416);
      d = ff(d, a, b, c, x[i + 9], 12, -1958414417);
      c = ff(c, d, a, b, x[i + 10], 17, -42063);
      b = ff(b, c, d, a, x[i + 11], 22, -1990404162);
      a = ff(a, b, c, d, x[i + 12], 7, 1804603682);
      d = ff(d, a, b, c, x[i + 13], 12, -40341101);
      c = ff(c, d, a, b, x[i + 14], 17, -1502002290);
      b = ff(b, c, d, a, x[i + 15], 22, 1236535329);
      a = gg(a, b, c, d, x[i + 1], 5, -165796510);
      d = gg(d, a, b, c, x[i + 6], 9, -1069501632);
      c = gg(c, d, a, b, x[i + 11], 14, 643717713);
      b = gg(b, c, d, a, x[i + 0], 20, -373897302);
      a = gg(a, b, c, d, x[i + 5], 5, -701558691);
      d = gg(d, a, b, c, x[i + 10], 9, 38016083);
      c = gg(c, d, a, b, x[i + 15], 14, -660478335);
      b = gg(b, c, d, a, x[i + 4], 20, -405537848);
      a = gg(a, b, c, d, x[i + 9], 5, 568446438);
      d = gg(d, a, b, c, x[i + 14], 9, -1019803690);
      c = gg(c, d, a, b, x[i + 3], 14, -187363961);
      b = gg(b, c, d, a, x[i + 8], 20, 1163531501);
      a = gg(a, b, c, d, x[i + 13], 5, -1444681467);
      d = gg(d, a, b, c, x[i + 2], 9, -51403784);
      c = gg(c, d, a, b, x[i + 7], 14, 1735328473);
      b = gg(b, c, d, a, x[i + 12], 20, -1926607734);
      a = hh(a, b, c, d, x[i + 5], 4, -378558);
      d = hh(d, a, b, c, x[i + 8], 11, -2022574463);
      c = hh(c, d, a, b, x[i + 11], 16, 1839030562);
      b = hh(b, c, d, a, x[i + 14], 23, -35309556);
      a = hh(a, b, c, d, x[i + 1], 4, -1530992060);
      d = hh(d, a, b, c, x[i + 4], 11, 1272893353);
      c = hh(c, d, a, b, x[i + 7], 16, -155497632);
      b = hh(b, c, d, a, x[i + 10], 23, -1094730640);
      a = hh(a, b, c, d, x[i + 13], 4, 681279174);
      d = hh(d, a, b, c, x[i + 0], 11, -358537222);
      c = hh(c, d, a, b, x[i + 3], 16, -722521979);
      b = hh(b, c, d, a, x[i + 6], 23, 76029189);
      a = hh(a, b, c, d, x[i + 9], 4, -640364487);
      d = hh(d, a, b, c, x[i + 12], 11, -421815835);
      c = hh(c, d, a, b, x[i + 15], 16, 530742520);
      b = hh(b, c, d, a, x[i + 2], 23, -995338651);
      a = ii(a, b, c, d, x[i + 0], 6, -198630844);
      d = ii(d, a, b, c, x[i + 7], 10, 1126891415);
      c = ii(c, d, a, b, x[i + 14], 15, -1416354905);
      b = ii(b, c, d, a, x[i + 5], 21, -57434055);
      a = ii(a, b, c, d, x[i + 12], 6, 1700485571);
      d = ii(d, a, b, c, x[i + 3], 10, -1894986606);
      c = ii(c, d, a, b, x[i + 10], 15, -1051523);
      b = ii(b, c, d, a, x[i + 1], 21, -2054922799);
      a = ii(a, b, c, d, x[i + 8], 6, 1873313359);
      d = ii(d, a, b, c, x[i + 15], 10, -30611744);
      c = ii(c, d, a, b, x[i + 6], 15, -1560198380);
      b = ii(b, c, d, a, x[i + 13], 21, 1309151649);
      a = ii(a, b, c, d, x[i + 4], 6, -145523070);
      d = ii(d, a, b, c, x[i + 11], 10, -1120210379);
      c = ii(c, d, a, b, x[i + 2], 15, 718787259);
      b = ii(b, c, d, a, x[i + 9], 21, -343485551);
      a = ad(a, olda);
      b = ad(b, oldb);
      c = ad(c, oldc);
      d = ad(d, oldd);
    }
    return rh(a) + rh(b) + rh(c) + rh(d);
  }
  registerLatexCodeBlock() {
    this.registerMarkdownCodeBlockProcessor("latex", (source, el, ctx) => {
      const div = el.createEl("div");
      div.setAttribute("class", "latexSVG");
      source = this.tidyLatexSource(source);
      const md5code = this.md5(source);
      source = `\\batchmode\\documentclass[dvisvgm]{minimal}
${source}`.replace("\\begin{document}", "\\begin{document}\n\\nonstopmode");
      const basePath = this.app.vault.adapter.basePath;
      const dir = path2.resolve(path2.join(basePath, `/.obsidian/plugins/LatexToSVG/temp/${md5code}`));
      if (!fs2.existsSync(dir)) {
        fs2.mkdirSync(dir);
        fs2.writeFileSync(path2.join(dir, "input.tex"), source);
        (0, import_child_process.exec)("latex -output-format=dvi -halt-on-error -file-line-error input.tex", { cwd: dir, timeout: 1e4 }, (error, stdout) => {
          if (error) {
            div.textContent = stdout.toString().replace(/^[\s\S]*?(?=\.\/input\.tex:)/, "").replace("./input.tex", "line");
            fs2.rmSync(dir, { recursive: true, force: true });
          } else {
            (0, import_child_process.exec)("dvisvgm -n input.dvi", { cwd: dir, timeout: 1e4 }, () => {
              const data = fs2.readFileSync(path2.join(dir, "input.svg"));
              div.innerHTML = this.recolorSVG(data.toString());
              (0, import_child_process.exec)("del -f *.aux", { cwd: dir, timeout: 1e4 });
              (0, import_child_process.exec)("del -f *.log", { cwd: dir, timeout: 1e4 });
              (0, import_child_process.exec)("del -f *.dvi", { cwd: dir, timeout: 1e4 });
              (0, import_child_process.exec)("del -f *.tex", { cwd: dir, timeout: 1e4 });
            });
          }
        });
      } else {
        const data = fs2.readFileSync(path2.join(dir, "input.svg"));
        div.innerHTML = this.recolorSVG(data.toString());
      }
    });
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJzZXR0aW5ncy50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBFZGl0b3IsIE1hcmtkb3duVmlldywgTW9kYWwsIE5vdGljZSwgUGx1Z2luLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5pbXBvcnQgeyBMYXRleFN2Z1BsdWdpblNldHRpbmdzLCBERUZBVUxUX1NFVFRJTkdTLCBMYXRleFN2Z1NldHRpbmdUYWIgfSBmcm9tIFwiLi9zZXR0aW5nc1wiO1xyXG5pbXBvcnQgKiBhcyBmcyBmcm9tICdmcyc7XHJcbmltcG9ydCAqIGFzIHBhdGggZnJvbSAncGF0aCc7XHJcbmltcG9ydCB7ZXhlY30gZnJvbSAnY2hpbGRfcHJvY2Vzcyc7XHJcblxyXG4vLyBSZW1lbWJlciB0byByZW5hbWUgdGhlc2UgY2xhc3NlcyBhbmQgaW50ZXJmYWNlcyFcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExhdGV4U3ZnUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcclxuXHRzZXR0aW5nczogTGF0ZXhTdmdQbHVnaW5TZXR0aW5ncztcclxuXHJcblx0YXN5bmMgb25sb2FkKCkge1xyXG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcclxuXHJcblx0XHQvLyBUaGlzIGFkZHMgYSBzZXR0aW5ncyB0YWIgc28gdGhlIHVzZXIgY2FuIGNvbmZpZ3VyZSB2YXJpb3VzIGFzcGVjdHMgb2YgdGhlIHBsdWdpblxyXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBMYXRleFN2Z1NldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcclxuXHJcblx0XHR0aGlzLmhvb2tDbG9zZUJ1dHRvbigpXHJcblx0XHR0aGlzLnJlZ2lzdGVyTGF0ZXhDb2RlQmxvY2soKVxyXG5cdH1cclxuXHRcclxuXHRvbnVubG9hZCgpIHtcclxuXHRcdFxyXG5cdH1cclxuXHJcblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xyXG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XHJcblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xyXG5cdH1cclxuXHJcblx0aG9va0Nsb3NlQnV0dG9uKCkge1xyXG5cdFx0Y29uc3QgY2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiZGl2Lm1vZC1jbG9zZVwiKVxyXG5cdFx0aWYgKGNsb3NlQnV0dG9uKSB7XHJcblx0XHRcdGNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCAoKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLmRlbGV0ZVVudXNlZFNWRygpO1xyXG5cdFx0XHRcdFx0dGhpcy5yZXdyaXRlSW5kZXgoKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRyZXdyaXRlSW5kZXgoKSB7XHJcblx0XHRjb25zdCB7IHZhdWx0IH0gPSB0aGlzLmFwcDtcclxuXHRcdGNvbnN0IGZpbGVzID0gdmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xyXG5cdFx0ZmlsZXMuZm9yRWFjaCgoaW5kZXhmaWxlKSA9PiB7XHJcblx0XHRcdGlmIChpbmRleGZpbGUuYmFzZW5hbWUuaW5jbHVkZXMoXCJpbmRleCAtIFwiKSkge1xyXG5cdFx0XHRcdGNvbnN0IGJhc2VQYXRoID0gKHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIgYXMgYW55KS5iYXNlUGF0aCBcclxuXHRcdFx0XHRjb25zdCByZXNvdXJjZXNQYXRoID0gcGF0aC5qb2luKGJhc2VQYXRoLHBhdGguam9pbihwYXRoLmpvaW4oaW5kZXhmaWxlLnBhdGgsIFwiLi4vXCIpLCBcIlJlc291cmNlc1wiKSlcclxuXHRcdFx0XHRsZXQgcmVzdWx0ID0gJyc7XHJcblx0XHRcdFx0Y29uc3QgZmlsZXMgPSBmcy5yZWFkZGlyU3luYyhyZXNvdXJjZXNQYXRoKVxyXG5cdFx0XHRcdGZpbGVzLmZvckVhY2goZnVuY3Rpb24gKGZpbGUpIHtcclxuXHRcdFx0XHRcdGNvbnN0IGZpbGVQYXRoID0gcGF0aC5qb2luKHJlc291cmNlc1BhdGgsIGZpbGUpO1xyXG5cdFx0XHRcdFx0aWYgKGZzLnN0YXRTeW5jKGZpbGVQYXRoKS5pc0RpcmVjdG9yeSgpKSB7XHJcblx0XHRcdFx0XHRcdGlmIChmaWxlICE9IFwiRmlndXJlc1wiKSB7XHJcblx0XHRcdFx0XHRcdFx0cmVzdWx0ICs9IGBcXG4ke2ZpbGV9OlxcblxcbmA7XHJcblx0XHRcdFx0XHRcdFx0Y29uc3Qgc3ViRmlsZXMgPSBmcy5yZWFkZGlyU3luYyhmaWxlUGF0aClcclxuXHRcdFx0XHRcdFx0XHRzdWJGaWxlcy5mb3JFYWNoKGZ1bmN0aW9uIChzdWJGaWxlKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRyZXN1bHQgKz0gYC0gWyR7c3ViRmlsZX1dKDwke3BhdGguam9pbihpbmRleGZpbGUucGF0aCwgXCIuLi9cIiwgXCJSZXNvdXJjZXNcIiwgZmlsZSwgc3ViRmlsZSkucmVwbGFjZSgvXFxcXC9nLCBcIi9cIil9PilcXG5gOyAvLyBjb25jYXRlbmF0ZSBlYWNoIGZpbGUgcGF0aCB0byByZXN1bHQgc3RyaW5nXHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1lbHNlIHtcclxuXHRcdFx0XHRcdFx0cmVzdWx0ID0gYC0gWyR7ZmlsZX1dKDwke3BhdGguam9pbihpbmRleGZpbGUucGF0aCwgXCIuLi9cIiwgXCJSZXNvdXJjZXNcIiwgZmlsZSkucmVwbGFjZSgvXFxcXC9nLCBcIi9cIil9PilcXG5gICsgcmVzdWx0XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHRmcy53cml0ZUZpbGVTeW5jKHBhdGguam9pbihiYXNlUGF0aCxpbmRleGZpbGUucGF0aCksIHJlc3VsdClcclxuXHRcdFx0fVx0XHRcdFxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBkZWxldGVVbnVzZWRTVkcoKSB7XHJcblx0XHRjb25zdCB7IHZhdWx0IH0gPSB0aGlzLmFwcDtcclxuXHRcdGNvbnN0IGZpbGVDb250ZW50czogc3RyaW5nW10gPSBhd2FpdCBQcm9taXNlLmFsbChcclxuXHRcdFx0dmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpLm1hcCgoZmlsZSkgPT4gdmF1bHQuY2FjaGVkUmVhZChmaWxlKSlcclxuXHRcdCk7XHJcblx0XHRjb25zdCBjb2RlQmxvY2tzOiBTdHJpbmdbXSA9IFtdO1xyXG5cdFx0ZmlsZUNvbnRlbnRzLmZvckVhY2goKGNvbnRlbnQpID0+IHtcclxuXHRcdFx0Y29uc3QgcmVnZXggPSAvXmBgYGxhdGV4KFtcXHNcXFNdKj8pXmBgYC9nbTtcclxuXHJcblxyXG5cdFx0XHRsZXQgbWF0Y2ggPSByZWdleC5leGVjKGNvbnRlbnQpO1xyXG5cdFx0XHR3aGlsZSAobWF0Y2ggIT09IG51bGwpIHtcclxuXHRcdFx0XHRjb2RlQmxvY2tzLnB1c2godGhpcy5tZDUobWF0Y2hbMV0udHJpbSgpLnJlcGxhY2VBbGwoXCImbmJzcDtcIiwgXCJcIikuc3BsaXQoXCJcXG5cIikubWFwKGxpbmUgPT4gbGluZS50cmltKCkpLmZpbHRlcihsaW5lID0+IGxpbmUpLmpvaW4oXCJcXG5cIikpKTtcclxuXHRcdFx0XHRtYXRjaCA9IHJlZ2V4LmV4ZWMoY29udGVudCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0Y29uc3QgYmFzZVBhdGggPSAodGhpcy5hcHAudmF1bHQuYWRhcHRlciBhcyBhbnkpLmJhc2VQYXRoXHJcblx0XHRjb25zdCB0ZW1wUGF0aCA9IHBhdGguam9pbihiYXNlUGF0aCwgYC8ub2JzaWRpYW4vcGx1Z2lucy9MYXRleFRvU1ZHL3RlbXBgKVxyXG5cdFx0ZnMucmVhZGRpcih0ZW1wUGF0aCwgKGVyciwgZmlsZXMpID0+IHtcclxuXHRcdFx0aWYgKGVycikgdGhyb3cgZXJyO1xyXG5cclxuXHRcdFx0ZmlsZXMuZm9yRWFjaChmaWxlID0+IHtcclxuXHRcdFx0XHRjb25zdCBmaWxlUGF0aCA9IHBhdGguam9pbih0ZW1wUGF0aCwgZmlsZSk7XHJcblx0XHRcdFx0Ly8gRGVsZXRlIGZpbGUgaWYgaXQgZG9lc24ndCBleGlzdCBpbiBjb2RlQmxvY2tzIGFycmF5XHJcblx0XHRcdFx0aWYgKCFjb2RlQmxvY2tzLmluY2x1ZGVzKGZpbGUpKSB7XHJcblx0XHRcdFx0XHRmcy5ybVN5bmMoZmlsZVBhdGgsIHsgcmVjdXJzaXZlOiB0cnVlLCBmb3JjZTogdHJ1ZSB9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRyZWNvbG9yU1ZHKHN2Zzogc3RyaW5nKSB7XHJcblx0XHRzdmcgPSBzdmcucmVwbGFjZUFsbCgvKCMwMDApL2csIGBjdXJyZW50Q29sb3JgKVxyXG5cdFx0LnJlcGxhY2VBbGwoLygjZmZmKS9nLCBgdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KWApO1xyXG5cclxuXHRcdHJldHVybiBzdmc7XHJcblx0fVxyXG5cclxuXHR0aWR5TGF0ZXhTb3VyY2Uoc291cmNlOiBzdHJpbmcpIHtcclxuXHRcdHJldHVybiBzb3VyY2UucmVwbGFjZUFsbChcIiZuYnNwO1wiLCBcIlwiKS5zcGxpdChcIlxcblwiKS5tYXAobGluZSA9PiBsaW5lLnRyaW0oKSkuZmlsdGVyKGxpbmUgPT4gbGluZSkuam9pbihcIlxcblwiKTtcclxuXHR9XHJcblx0Ly8gIEZvcm1hdHRlZCB2ZXJzaW9uIG9mIGEgcG9wdWxhciBtZDUgaW1wbGVtZW50YXRpb25cclxuXHQvLyAgT3JpZ2luYWwgY29weXJpZ2h0IChjKSBQYXVsIEpvaG5zdG9uICYgR3JlZyBIb2x0LlxyXG5cdC8vICBUaGUgZnVuY3Rpb24gaXRzZWxmIGlzIG5vdyA0MiBsaW5lcyBsb25nLlxyXG5cclxuXHRtZDUoaW5wdXRTdHJpbmc6IHN0cmluZykge1xyXG5cdFx0dmFyIGhjPVwiMDEyMzQ1Njc4OWFiY2RlZlwiO1xyXG5cdFx0Ly8gQHRzLWlnbm9yZVxyXG5cdFx0ZnVuY3Rpb24gcmgobikge3ZhciBqLHM9XCJcIjtmb3Ioaj0wO2o8PTM7aisrKSBzKz1oYy5jaGFyQXQoKG4+PihqKjgrNCkpJjB4MEYpK2hjLmNoYXJBdCgobj4+KGoqOCkpJjB4MEYpO3JldHVybiBzO31cclxuXHRcdC8vIEB0cy1pZ25vcmVcclxuXHRcdGZ1bmN0aW9uIGFkKHgseSkge3ZhciBsPSh4JjB4RkZGRikrKHkmMHhGRkZGKTt2YXIgbT0oeD4+MTYpKyh5Pj4xNikrKGw+PjE2KTtyZXR1cm4gKG08PDE2KXwobCYweEZGRkYpO31cclxuXHRcdC8vIEB0cy1pZ25vcmVcclxuXHRcdGZ1bmN0aW9uIHJsKG4sYykgICAgICAgICAgICB7cmV0dXJuIChuPDxjKXwobj4+PigzMi1jKSk7fVxyXG5cdFx0Ly8gQHRzLWlnbm9yZVxyXG5cdFx0ZnVuY3Rpb24gY20ocSxhLGIseCxzLHQpICAgIHtyZXR1cm4gYWQocmwoYWQoYWQoYSxxKSxhZCh4LHQpKSxzKSxiKTt9XHJcblx0XHQvLyBAdHMtaWdub3JlXHJcblx0XHRmdW5jdGlvbiBmZihhLGIsYyxkLHgscyx0KSAge3JldHVybiBjbSgoYiZjKXwoKH5iKSZkKSxhLGIseCxzLHQpO31cclxuXHRcdC8vIEB0cy1pZ25vcmVcclxuXHRcdGZ1bmN0aW9uIGdnKGEsYixjLGQseCxzLHQpICB7cmV0dXJuIGNtKChiJmQpfChjJih+ZCkpLGEsYix4LHMsdCk7fVxyXG5cdFx0Ly8gQHRzLWlnbm9yZVxyXG5cdFx0ZnVuY3Rpb24gaGgoYSxiLGMsZCx4LHMsdCkgIHtyZXR1cm4gY20oYl5jXmQsYSxiLHgscyx0KTt9XHJcblx0XHQvLyBAdHMtaWdub3JlXHJcblx0XHRmdW5jdGlvbiBpaShhLGIsYyxkLHgscyx0KSAge3JldHVybiBjbShjXihifCh+ZCkpLGEsYix4LHMsdCk7fVxyXG5cdFx0Ly8gQHRzLWlnbm9yZVxyXG5cdFx0ZnVuY3Rpb24gc2IoeCkge1xyXG5cdFx0XHRcdHZhciBpO3ZhciBuYmxrPSgoeC5sZW5ndGgrOCk+PjYpKzE7dmFyIGJsa3M9bmV3IEFycmF5KG5ibGsqMTYpO2ZvcihpPTA7aTxuYmxrKjE2O2krKykgYmxrc1tpXT0wO1xyXG5cdFx0XHRcdGZvcihpPTA7aTx4Lmxlbmd0aDtpKyspIGJsa3NbaT4+Ml18PXguY2hhckNvZGVBdChpKTw8KChpJTQpKjgpO1xyXG5cdFx0XHRcdGJsa3NbaT4+Ml18PTB4ODA8PCgoaSU0KSo4KTtibGtzW25ibGsqMTYtMl09eC5sZW5ndGgqODtyZXR1cm4gYmxrcztcclxuXHRcdH1cclxuXHRcdHZhciBpLHg9c2IoXCJcIitpbnB1dFN0cmluZyksYT0xNzMyNTg0MTkzLGI9LTI3MTczMzg3OSxjPS0xNzMyNTg0MTk0LGQ9MjcxNzMzODc4LG9sZGEsb2xkYixvbGRjLG9sZGQ7XHJcblx0XHRmb3IoaT0wO2k8eC5sZW5ndGg7aSs9MTYpIHtvbGRhPWE7b2xkYj1iO29sZGM9YztvbGRkPWQ7XHJcblx0XHRcdFx0YT1mZihhLGIsYyxkLHhbaSsgMF0sIDcsIC02ODA4NzY5MzYpO2Q9ZmYoZCxhLGIsYyx4W2krIDFdLDEyLCAtMzg5NTY0NTg2KTtjPWZmKGMsZCxhLGIseFtpKyAyXSwxNywgIDYwNjEwNTgxOSk7XHJcblx0XHRcdFx0Yj1mZihiLGMsZCxhLHhbaSsgM10sMjIsLTEwNDQ1MjUzMzApO2E9ZmYoYSxiLGMsZCx4W2krIDRdLCA3LCAtMTc2NDE4ODk3KTtkPWZmKGQsYSxiLGMseFtpKyA1XSwxMiwgMTIwMDA4MDQyNik7XHJcblx0XHRcdFx0Yz1mZihjLGQsYSxiLHhbaSsgNl0sMTcsLTE0NzMyMzEzNDEpO2I9ZmYoYixjLGQsYSx4W2krIDddLDIyLCAgLTQ1NzA1OTgzKTthPWZmKGEsYixjLGQseFtpKyA4XSwgNywgMTc3MDAzNTQxNik7XHJcblx0XHRcdFx0ZD1mZihkLGEsYixjLHhbaSsgOV0sMTIsLTE5NTg0MTQ0MTcpO2M9ZmYoYyxkLGEsYix4W2krMTBdLDE3LCAgICAgLTQyMDYzKTtiPWZmKGIsYyxkLGEseFtpKzExXSwyMiwtMTk5MDQwNDE2Mik7XHJcblx0XHRcdFx0YT1mZihhLGIsYyxkLHhbaSsxMl0sIDcsIDE4MDQ2MDM2ODIpO2Q9ZmYoZCxhLGIsYyx4W2krMTNdLDEyLCAgLTQwMzQxMTAxKTtjPWZmKGMsZCxhLGIseFtpKzE0XSwxNywtMTUwMjAwMjI5MCk7XHJcblx0XHRcdFx0Yj1mZihiLGMsZCxhLHhbaSsxNV0sMjIsIDEyMzY1MzUzMjkpO2E9Z2coYSxiLGMsZCx4W2krIDFdLCA1LCAtMTY1Nzk2NTEwKTtkPWdnKGQsYSxiLGMseFtpKyA2XSwgOSwtMTA2OTUwMTYzMik7XHJcblx0XHRcdFx0Yz1nZyhjLGQsYSxiLHhbaSsxMV0sMTQsICA2NDM3MTc3MTMpO2I9Z2coYixjLGQsYSx4W2krIDBdLDIwLCAtMzczODk3MzAyKTthPWdnKGEsYixjLGQseFtpKyA1XSwgNSwgLTcwMTU1ODY5MSk7XHJcblx0XHRcdFx0ZD1nZyhkLGEsYixjLHhbaSsxMF0sIDksICAgMzgwMTYwODMpO2M9Z2coYyxkLGEsYix4W2krMTVdLDE0LCAtNjYwNDc4MzM1KTtiPWdnKGIsYyxkLGEseFtpKyA0XSwyMCwgLTQwNTUzNzg0OCk7XHJcblx0XHRcdFx0YT1nZyhhLGIsYyxkLHhbaSsgOV0sIDUsICA1Njg0NDY0MzgpO2Q9Z2coZCxhLGIsYyx4W2krMTRdLCA5LC0xMDE5ODAzNjkwKTtjPWdnKGMsZCxhLGIseFtpKyAzXSwxNCwgLTE4NzM2Mzk2MSk7XHJcblx0XHRcdFx0Yj1nZyhiLGMsZCxhLHhbaSsgOF0sMjAsIDExNjM1MzE1MDEpO2E9Z2coYSxiLGMsZCx4W2krMTNdLCA1LC0xNDQ0NjgxNDY3KTtkPWdnKGQsYSxiLGMseFtpKyAyXSwgOSwgIC01MTQwMzc4NCk7XHJcblx0XHRcdFx0Yz1nZyhjLGQsYSxiLHhbaSsgN10sMTQsIDE3MzUzMjg0NzMpO2I9Z2coYixjLGQsYSx4W2krMTJdLDIwLC0xOTI2NjA3NzM0KTthPWhoKGEsYixjLGQseFtpKyA1XSwgNCwgICAgLTM3ODU1OCk7XHJcblx0XHRcdFx0ZD1oaChkLGEsYixjLHhbaSsgOF0sMTEsLTIwMjI1NzQ0NjMpO2M9aGgoYyxkLGEsYix4W2krMTFdLDE2LCAxODM5MDMwNTYyKTtiPWhoKGIsYyxkLGEseFtpKzE0XSwyMywgIC0zNTMwOTU1Nik7XHJcblx0XHRcdFx0YT1oaChhLGIsYyxkLHhbaSsgMV0sIDQsLTE1MzA5OTIwNjApO2Q9aGgoZCxhLGIsYyx4W2krIDRdLDExLCAxMjcyODkzMzUzKTtjPWhoKGMsZCxhLGIseFtpKyA3XSwxNiwgLTE1NTQ5NzYzMik7XHJcblx0XHRcdFx0Yj1oaChiLGMsZCxhLHhbaSsxMF0sMjMsLTEwOTQ3MzA2NDApO2E9aGgoYSxiLGMsZCx4W2krMTNdLCA0LCAgNjgxMjc5MTc0KTtkPWhoKGQsYSxiLGMseFtpKyAwXSwxMSwgLTM1ODUzNzIyMik7XHJcblx0XHRcdFx0Yz1oaChjLGQsYSxiLHhbaSsgM10sMTYsIC03MjI1MjE5NzkpO2I9aGgoYixjLGQsYSx4W2krIDZdLDIzLCAgIDc2MDI5MTg5KTthPWhoKGEsYixjLGQseFtpKyA5XSwgNCwgLTY0MDM2NDQ4Nyk7XHJcblx0XHRcdFx0ZD1oaChkLGEsYixjLHhbaSsxMl0sMTEsIC00MjE4MTU4MzUpO2M9aGgoYyxkLGEsYix4W2krMTVdLDE2LCAgNTMwNzQyNTIwKTtiPWhoKGIsYyxkLGEseFtpKyAyXSwyMywgLTk5NTMzODY1MSk7XHJcblx0XHRcdFx0YT1paShhLGIsYyxkLHhbaSsgMF0sIDYsIC0xOTg2MzA4NDQpO2Q9aWkoZCxhLGIsYyx4W2krIDddLDEwLCAxMTI2ODkxNDE1KTtjPWlpKGMsZCxhLGIseFtpKzE0XSwxNSwtMTQxNjM1NDkwNSk7XHJcblx0XHRcdFx0Yj1paShiLGMsZCxhLHhbaSsgNV0sMjEsICAtNTc0MzQwNTUpO2E9aWkoYSxiLGMsZCx4W2krMTJdLCA2LCAxNzAwNDg1NTcxKTtkPWlpKGQsYSxiLGMseFtpKyAzXSwxMCwtMTg5NDk4NjYwNik7XHJcblx0XHRcdFx0Yz1paShjLGQsYSxiLHhbaSsxMF0sMTUsICAgLTEwNTE1MjMpO2I9aWkoYixjLGQsYSx4W2krIDFdLDIxLC0yMDU0OTIyNzk5KTthPWlpKGEsYixjLGQseFtpKyA4XSwgNiwgMTg3MzMxMzM1OSk7XHJcblx0XHRcdFx0ZD1paShkLGEsYixjLHhbaSsxNV0sMTAsICAtMzA2MTE3NDQpO2M9aWkoYyxkLGEsYix4W2krIDZdLDE1LC0xNTYwMTk4MzgwKTtiPWlpKGIsYyxkLGEseFtpKzEzXSwyMSwgMTMwOTE1MTY0OSk7XHJcblx0XHRcdFx0YT1paShhLGIsYyxkLHhbaSsgNF0sIDYsIC0xNDU1MjMwNzApO2Q9aWkoZCxhLGIsYyx4W2krMTFdLDEwLC0xMTIwMjEwMzc5KTtjPWlpKGMsZCxhLGIseFtpKyAyXSwxNSwgIDcxODc4NzI1OSk7XHJcblx0XHRcdFx0Yj1paShiLGMsZCxhLHhbaSsgOV0sMjEsIC0zNDM0ODU1NTEpO2E9YWQoYSxvbGRhKTtiPWFkKGIsb2xkYik7Yz1hZChjLG9sZGMpO2Q9YWQoZCxvbGRkKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiByaChhKStyaChiKStyaChjKStyaChkKTtcclxuXHR9XHJcblxyXG5cdHJlZ2lzdGVyTGF0ZXhDb2RlQmxvY2soKSB7XHJcblx0XHR0aGlzLnJlZ2lzdGVyTWFya2Rvd25Db2RlQmxvY2tQcm9jZXNzb3IoXCJsYXRleFwiLCAoc291cmNlLCBlbCwgY3R4KSA9PiB7XHJcblx0XHRcdGNvbnN0IGRpdiA9IGVsLmNyZWF0ZUVsKFwiZGl2XCIpO1xyXG5cdFx0XHRkaXYuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJsYXRleFNWR1wiKTtcclxuXHRcdFx0c291cmNlID0gdGhpcy50aWR5TGF0ZXhTb3VyY2Uoc291cmNlKVxyXG5cdFx0XHRjb25zdCBtZDVjb2RlID0gdGhpcy5tZDUoc291cmNlKVxyXG5cdFx0XHRzb3VyY2UgPSBgXFxcXGJhdGNobW9kZVxcXFxkb2N1bWVudGNsYXNzW2R2aXN2Z21de21pbmltYWx9XFxuJHtzb3VyY2V9YC5yZXBsYWNlKFwiXFxcXGJlZ2lue2RvY3VtZW50fVwiLCBcIlxcXFxiZWdpbntkb2N1bWVudH1cXG5cXFxcbm9uc3RvcG1vZGVcIilcclxuXHRcdFx0Y29uc3QgYmFzZVBhdGggPSAodGhpcy5hcHAudmF1bHQuYWRhcHRlciBhcyBhbnkpLmJhc2VQYXRoXHJcblx0XHRcdGNvbnN0IGRpciA9IHBhdGgucmVzb2x2ZShwYXRoLmpvaW4oYmFzZVBhdGgsIGAvLm9ic2lkaWFuL3BsdWdpbnMvTGF0ZXhUb1NWRy90ZW1wLyR7bWQ1Y29kZX1gKSk7XHJcblx0XHRcdGlmICghZnMuZXhpc3RzU3luYyhkaXIpKSB7XHJcblx0XHRcdFx0ZnMubWtkaXJTeW5jKGRpcik7XHJcblx0XHRcdFx0ZnMud3JpdGVGaWxlU3luYyhwYXRoLmpvaW4oZGlyLCAnaW5wdXQudGV4Jyksc291cmNlKVxyXG5cdFx0XHRcdGV4ZWMoXCJsYXRleCAtb3V0cHV0LWZvcm1hdD1kdmkgLWhhbHQtb24tZXJyb3IgLWZpbGUtbGluZS1lcnJvciBpbnB1dC50ZXhcIiwge2N3ZDogZGlyLCB0aW1lb3V0OiAxMDAwMH0sIChlcnJvcixzdGRvdXQpPT57XHJcblx0XHRcdFx0XHRpZiAoZXJyb3IpIHtcclxuXHRcdFx0XHRcdFx0ZGl2LnRleHRDb250ZW50ID0gc3Rkb3V0LnRvU3RyaW5nKCkucmVwbGFjZSgvXltcXHNcXFNdKj8oPz1cXC5cXC9pbnB1dFxcLnRleDopLywnJykucmVwbGFjZSgnLi9pbnB1dC50ZXgnLCdsaW5lJylcclxuXHRcdFx0XHRcdFx0ZnMucm1TeW5jKGRpciwgeyByZWN1cnNpdmU6IHRydWUsIGZvcmNlOiB0cnVlIH0pO1xyXG5cdFx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRcdGV4ZWMoXCJkdmlzdmdtIC1uIGlucHV0LmR2aVwiLHtjd2Q6IGRpciwgdGltZW91dDogMTAwMDB9LCgpPT57XHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgZGF0YSA9IGZzLnJlYWRGaWxlU3luYyhwYXRoLmpvaW4oZGlyLCAnaW5wdXQuc3ZnJykpXHJcblx0XHRcdFx0XHRcdFx0ZGl2LmlubmVySFRNTCA9IHRoaXMucmVjb2xvclNWRyhkYXRhLnRvU3RyaW5nKCkpXHJcblx0XHRcdFx0XHRcdFx0ZXhlYyhcImRlbCAtZiAqLmF1eFwiLCB7Y3dkOiBkaXIsIHRpbWVvdXQ6IDEwMDAwfSlcclxuXHRcdFx0XHRcdFx0XHRleGVjKFwiZGVsIC1mICoubG9nXCIsIHtjd2Q6IGRpciwgdGltZW91dDogMTAwMDB9KVxyXG5cdFx0XHRcdFx0XHRcdGV4ZWMoXCJkZWwgLWYgKi5kdmlcIiwge2N3ZDogZGlyLCB0aW1lb3V0OiAxMDAwMH0pXHJcblx0XHRcdFx0XHRcdFx0ZXhlYyhcImRlbCAtZiAqLnRleFwiLCB7Y3dkOiBkaXIsIHRpbWVvdXQ6IDEwMDAwfSlcclxuXHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0Y29uc3QgZGF0YSA9IGZzLnJlYWRGaWxlU3luYyhwYXRoLmpvaW4oZGlyLCAnaW5wdXQuc3ZnJykpXHJcblx0XHRcdFx0ZGl2LmlubmVySFRNTCA9IHRoaXMucmVjb2xvclNWRyhkYXRhLnRvU3RyaW5nKCkpXHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxufSIsICJpbXBvcnQgeyBBcHAsIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcsIE5vdGljZX0gZnJvbSAnb2JzaWRpYW4nO1xyXG5pbXBvcnQgTGF0ZXhTdmdQbHVnaW4gZnJvbSBcIi4vbWFpblwiO1xyXG5pbXBvcnQgKiBhcyBmcyBmcm9tICdmcyc7XHJcbmltcG9ydCAqIGFzIHBhdGggZnJvbSAncGF0aCc7XHJcblxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBMYXRleFN2Z1BsdWdpblNldHRpbmdzIHtcclxuXHRpbnZlcnRDb2xvcnNJbkRhcmtNb2RlOiBib29sZWFuO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgREVGQVVMVF9TRVRUSU5HUzogTGF0ZXhTdmdQbHVnaW5TZXR0aW5ncyA9IHtcclxuXHRpbnZlcnRDb2xvcnNJbkRhcmtNb2RlOiB0cnVlXHJcbn1cclxuXHJcbmZ1bmN0aW9uIFx0bWQ1KGlucHV0U3RyaW5nOiBzdHJpbmcpIHtcclxuXHR2YXIgaGM9XCIwMTIzNDU2Nzg5YWJjZGVmXCI7XHJcblx0Ly8gQHRzLWlnbm9yZVxyXG5cdGZ1bmN0aW9uIHJoKG4pIHt2YXIgaixzPVwiXCI7Zm9yKGo9MDtqPD0zO2orKykgcys9aGMuY2hhckF0KChuPj4oaio4KzQpKSYweDBGKStoYy5jaGFyQXQoKG4+PihqKjgpKSYweDBGKTtyZXR1cm4gczt9XHJcblx0Ly8gQHRzLWlnbm9yZVxyXG5cdGZ1bmN0aW9uIGFkKHgseSkge3ZhciBsPSh4JjB4RkZGRikrKHkmMHhGRkZGKTt2YXIgbT0oeD4+MTYpKyh5Pj4xNikrKGw+PjE2KTtyZXR1cm4gKG08PDE2KXwobCYweEZGRkYpO31cclxuXHQvLyBAdHMtaWdub3JlXHJcblx0ZnVuY3Rpb24gcmwobixjKSAgICAgICAgICAgIHtyZXR1cm4gKG48PGMpfChuPj4+KDMyLWMpKTt9XHJcblx0Ly8gQHRzLWlnbm9yZVxyXG5cdGZ1bmN0aW9uIGNtKHEsYSxiLHgscyx0KSAgICB7cmV0dXJuIGFkKHJsKGFkKGFkKGEscSksYWQoeCx0KSkscyksYik7fVxyXG5cdC8vIEB0cy1pZ25vcmVcclxuXHRmdW5jdGlvbiBmZihhLGIsYyxkLHgscyx0KSAge3JldHVybiBjbSgoYiZjKXwoKH5iKSZkKSxhLGIseCxzLHQpO31cclxuXHQvLyBAdHMtaWdub3JlXHJcblx0ZnVuY3Rpb24gZ2coYSxiLGMsZCx4LHMsdCkgIHtyZXR1cm4gY20oKGImZCl8KGMmKH5kKSksYSxiLHgscyx0KTt9XHJcblx0Ly8gQHRzLWlnbm9yZVxyXG5cdGZ1bmN0aW9uIGhoKGEsYixjLGQseCxzLHQpICB7cmV0dXJuIGNtKGJeY15kLGEsYix4LHMsdCk7fVxyXG5cdC8vIEB0cy1pZ25vcmVcclxuXHRmdW5jdGlvbiBpaShhLGIsYyxkLHgscyx0KSAge3JldHVybiBjbShjXihifCh+ZCkpLGEsYix4LHMsdCk7fVxyXG5cdC8vIEB0cy1pZ25vcmVcclxuXHRmdW5jdGlvbiBzYih4KSB7XHJcblx0XHRcdHZhciBpO3ZhciBuYmxrPSgoeC5sZW5ndGgrOCk+PjYpKzE7dmFyIGJsa3M9bmV3IEFycmF5KG5ibGsqMTYpO2ZvcihpPTA7aTxuYmxrKjE2O2krKykgYmxrc1tpXT0wO1xyXG5cdFx0XHRmb3IoaT0wO2k8eC5sZW5ndGg7aSsrKSBibGtzW2k+PjJdfD14LmNoYXJDb2RlQXQoaSk8PCgoaSU0KSo4KTtcclxuXHRcdFx0Ymxrc1tpPj4yXXw9MHg4MDw8KChpJTQpKjgpO2Jsa3NbbmJsayoxNi0yXT14Lmxlbmd0aCo4O3JldHVybiBibGtzO1xyXG5cdH1cclxuXHR2YXIgaSx4PXNiKFwiXCIraW5wdXRTdHJpbmcpLGE9MTczMjU4NDE5MyxiPS0yNzE3MzM4NzksYz0tMTczMjU4NDE5NCxkPTI3MTczMzg3OCxvbGRhLG9sZGIsb2xkYyxvbGRkO1xyXG5cdGZvcihpPTA7aTx4Lmxlbmd0aDtpKz0xNikge29sZGE9YTtvbGRiPWI7b2xkYz1jO29sZGQ9ZDtcclxuXHRcdFx0YT1mZihhLGIsYyxkLHhbaSsgMF0sIDcsIC02ODA4NzY5MzYpO2Q9ZmYoZCxhLGIsYyx4W2krIDFdLDEyLCAtMzg5NTY0NTg2KTtjPWZmKGMsZCxhLGIseFtpKyAyXSwxNywgIDYwNjEwNTgxOSk7XHJcblx0XHRcdGI9ZmYoYixjLGQsYSx4W2krIDNdLDIyLC0xMDQ0NTI1MzMwKTthPWZmKGEsYixjLGQseFtpKyA0XSwgNywgLTE3NjQxODg5Nyk7ZD1mZihkLGEsYixjLHhbaSsgNV0sMTIsIDEyMDAwODA0MjYpO1xyXG5cdFx0XHRjPWZmKGMsZCxhLGIseFtpKyA2XSwxNywtMTQ3MzIzMTM0MSk7Yj1mZihiLGMsZCxhLHhbaSsgN10sMjIsICAtNDU3MDU5ODMpO2E9ZmYoYSxiLGMsZCx4W2krIDhdLCA3LCAxNzcwMDM1NDE2KTtcclxuXHRcdFx0ZD1mZihkLGEsYixjLHhbaSsgOV0sMTIsLTE5NTg0MTQ0MTcpO2M9ZmYoYyxkLGEsYix4W2krMTBdLDE3LCAgICAgLTQyMDYzKTtiPWZmKGIsYyxkLGEseFtpKzExXSwyMiwtMTk5MDQwNDE2Mik7XHJcblx0XHRcdGE9ZmYoYSxiLGMsZCx4W2krMTJdLCA3LCAxODA0NjAzNjgyKTtkPWZmKGQsYSxiLGMseFtpKzEzXSwxMiwgIC00MDM0MTEwMSk7Yz1mZihjLGQsYSxiLHhbaSsxNF0sMTcsLTE1MDIwMDIyOTApO1xyXG5cdFx0XHRiPWZmKGIsYyxkLGEseFtpKzE1XSwyMiwgMTIzNjUzNTMyOSk7YT1nZyhhLGIsYyxkLHhbaSsgMV0sIDUsIC0xNjU3OTY1MTApO2Q9Z2coZCxhLGIsYyx4W2krIDZdLCA5LC0xMDY5NTAxNjMyKTtcclxuXHRcdFx0Yz1nZyhjLGQsYSxiLHhbaSsxMV0sMTQsICA2NDM3MTc3MTMpO2I9Z2coYixjLGQsYSx4W2krIDBdLDIwLCAtMzczODk3MzAyKTthPWdnKGEsYixjLGQseFtpKyA1XSwgNSwgLTcwMTU1ODY5MSk7XHJcblx0XHRcdGQ9Z2coZCxhLGIsYyx4W2krMTBdLCA5LCAgIDM4MDE2MDgzKTtjPWdnKGMsZCxhLGIseFtpKzE1XSwxNCwgLTY2MDQ3ODMzNSk7Yj1nZyhiLGMsZCxhLHhbaSsgNF0sMjAsIC00MDU1Mzc4NDgpO1xyXG5cdFx0XHRhPWdnKGEsYixjLGQseFtpKyA5XSwgNSwgIDU2ODQ0NjQzOCk7ZD1nZyhkLGEsYixjLHhbaSsxNF0sIDksLTEwMTk4MDM2OTApO2M9Z2coYyxkLGEsYix4W2krIDNdLDE0LCAtMTg3MzYzOTYxKTtcclxuXHRcdFx0Yj1nZyhiLGMsZCxhLHhbaSsgOF0sMjAsIDExNjM1MzE1MDEpO2E9Z2coYSxiLGMsZCx4W2krMTNdLCA1LC0xNDQ0NjgxNDY3KTtkPWdnKGQsYSxiLGMseFtpKyAyXSwgOSwgIC01MTQwMzc4NCk7XHJcblx0XHRcdGM9Z2coYyxkLGEsYix4W2krIDddLDE0LCAxNzM1MzI4NDczKTtiPWdnKGIsYyxkLGEseFtpKzEyXSwyMCwtMTkyNjYwNzczNCk7YT1oaChhLGIsYyxkLHhbaSsgNV0sIDQsICAgIC0zNzg1NTgpO1xyXG5cdFx0XHRkPWhoKGQsYSxiLGMseFtpKyA4XSwxMSwtMjAyMjU3NDQ2Myk7Yz1oaChjLGQsYSxiLHhbaSsxMV0sMTYsIDE4MzkwMzA1NjIpO2I9aGgoYixjLGQsYSx4W2krMTRdLDIzLCAgLTM1MzA5NTU2KTtcclxuXHRcdFx0YT1oaChhLGIsYyxkLHhbaSsgMV0sIDQsLTE1MzA5OTIwNjApO2Q9aGgoZCxhLGIsYyx4W2krIDRdLDExLCAxMjcyODkzMzUzKTtjPWhoKGMsZCxhLGIseFtpKyA3XSwxNiwgLTE1NTQ5NzYzMik7XHJcblx0XHRcdGI9aGgoYixjLGQsYSx4W2krMTBdLDIzLC0xMDk0NzMwNjQwKTthPWhoKGEsYixjLGQseFtpKzEzXSwgNCwgIDY4MTI3OTE3NCk7ZD1oaChkLGEsYixjLHhbaSsgMF0sMTEsIC0zNTg1MzcyMjIpO1xyXG5cdFx0XHRjPWhoKGMsZCxhLGIseFtpKyAzXSwxNiwgLTcyMjUyMTk3OSk7Yj1oaChiLGMsZCxhLHhbaSsgNl0sMjMsICAgNzYwMjkxODkpO2E9aGgoYSxiLGMsZCx4W2krIDldLCA0LCAtNjQwMzY0NDg3KTtcclxuXHRcdFx0ZD1oaChkLGEsYixjLHhbaSsxMl0sMTEsIC00MjE4MTU4MzUpO2M9aGgoYyxkLGEsYix4W2krMTVdLDE2LCAgNTMwNzQyNTIwKTtiPWhoKGIsYyxkLGEseFtpKyAyXSwyMywgLTk5NTMzODY1MSk7XHJcblx0XHRcdGE9aWkoYSxiLGMsZCx4W2krIDBdLCA2LCAtMTk4NjMwODQ0KTtkPWlpKGQsYSxiLGMseFtpKyA3XSwxMCwgMTEyNjg5MTQxNSk7Yz1paShjLGQsYSxiLHhbaSsxNF0sMTUsLTE0MTYzNTQ5MDUpO1xyXG5cdFx0XHRiPWlpKGIsYyxkLGEseFtpKyA1XSwyMSwgIC01NzQzNDA1NSk7YT1paShhLGIsYyxkLHhbaSsxMl0sIDYsIDE3MDA0ODU1NzEpO2Q9aWkoZCxhLGIsYyx4W2krIDNdLDEwLC0xODk0OTg2NjA2KTtcclxuXHRcdFx0Yz1paShjLGQsYSxiLHhbaSsxMF0sMTUsICAgLTEwNTE1MjMpO2I9aWkoYixjLGQsYSx4W2krIDFdLDIxLC0yMDU0OTIyNzk5KTthPWlpKGEsYixjLGQseFtpKyA4XSwgNiwgMTg3MzMxMzM1OSk7XHJcblx0XHRcdGQ9aWkoZCxhLGIsYyx4W2krMTVdLDEwLCAgLTMwNjExNzQ0KTtjPWlpKGMsZCxhLGIseFtpKyA2XSwxNSwtMTU2MDE5ODM4MCk7Yj1paShiLGMsZCxhLHhbaSsxM10sMjEsIDEzMDkxNTE2NDkpO1xyXG5cdFx0XHRhPWlpKGEsYixjLGQseFtpKyA0XSwgNiwgLTE0NTUyMzA3MCk7ZD1paShkLGEsYixjLHhbaSsxMV0sMTAsLTExMjAyMTAzNzkpO2M9aWkoYyxkLGEsYix4W2krIDJdLDE1LCAgNzE4Nzg3MjU5KTtcclxuXHRcdFx0Yj1paShiLGMsZCxhLHhbaSsgOV0sMjEsIC0zNDM0ODU1NTEpO2E9YWQoYSxvbGRhKTtiPWFkKGIsb2xkYik7Yz1hZChjLG9sZGMpO2Q9YWQoZCxvbGRkKTtcclxuXHR9XHJcblx0cmV0dXJuIHJoKGEpK3JoKGIpK3JoKGMpK3JoKGQpO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIExhdGV4U3ZnU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xyXG5cdHBsdWdpbjogTGF0ZXhTdmdQbHVnaW47XHJcblxyXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IExhdGV4U3ZnUGx1Z2luKSB7XHJcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XHJcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuXHR9XHJcblxyXG5cdGRpc3BsYXkoKTogdm9pZCB7XHJcblx0XHRjb25zdCB7Y29udGFpbmVyRWx9ID0gdGhpcztcclxuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XHJcblxyXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2g0Jywge3RleHQ6ICdMYXRleCBUbyBTdmcgc2V0dGluZ3MnfSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKCdDbGVhciBjYWNoZWQgU1ZHcycpXHJcblx0XHRcdC5zZXREZXNjKCdTVkdzIHJlbmRlcmVkIHdpdGggTGF0ZXhTdmcgYXJlIHN0b3JlZCBpbiBhIGRhdGFiYXNlLCBzbyBkaWFncmFtcyBkb25cXCd0IGhhdmUgdG8gYmUgcmUtcmVuZGVyZWQgZnJvbSBzY3JhdGNoIGV2ZXJ5IHRpbWUgeW91IG9wZW4gYSBwYWdlLiBVc2UgdGhpcyB0byBjbGVhciB0aGUgY2FjaGUgYW5kIGZvcmNlIGFsbCBkaWFncmFtcyB0byBiZSByZS1yZW5kZXJlZC4nKVxyXG5cdFx0XHQuYWRkQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cclxuXHRcdFx0XHQuc2V0SWNvbihcInRyYXNoXCIpXHJcblx0XHRcdFx0LnNldFRvb2x0aXAoXCJDbGVhciBjYWNoZWQgU1ZHc1wiKVxyXG5cdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IGJhc2VQYXRoID0gKHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIgYXMgYW55KS5iYXNlUGF0aFxyXG5cdFx0XHRcdFx0Y29uc3QgZGlyID0gcGF0aC5yZXNvbHZlKHBhdGguam9pbihiYXNlUGF0aCwgYC8ub2JzaWRpYW4vcGx1Z2lucy9MYXRleFRvU1ZHL3RlbXBgKSk7XHJcblx0XHRcdFx0XHRmcy5ybVN5bmMoZGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSwgZm9yY2U6IHRydWUgfSk7XHJcblx0XHRcdFx0XHRmcy5ta2RpclN5bmMoZGlyKVxyXG5cdFx0XHRcdH0pKTtcclxuXHR9XHJcbn0iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBQUFBLG1CQUE0Rjs7O0FDQTVGLHNCQUFzRDtBQUV0RCxTQUFvQjtBQUNwQixXQUFzQjtBQU9mLElBQU0sbUJBQTJDO0FBQUEsRUFDdkQsd0JBQXdCO0FBQ3pCO0FBdURPLElBQU0scUJBQU4sY0FBaUMsaUNBQWlCO0FBQUEsRUFHeEQsWUFBWSxLQUFVLFFBQXdCO0FBQzdDLFVBQU0sS0FBSyxN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SztBQUNuRCxVQUFFLEdBQUcsR0FBRSxHQUFFLEdBQUUsR0FBRSxFQUFFLElBQUcsQ0FBQyxHQUFHLEdBQUcsVUFBVTtBQUFFLFVBQUUsR0FBRyxHQUFFLEdBQUUsR0FBRSxHQUFFLEVBQUUsSUFBRyxDQUFDLEdBQUUsSUFBSSxVQUFVO0FBQUUsVUFBRSxHQUFHLEdBQUUsR0FBRSxHQUFFLEdBQUUsRUFBRSxJQUFHLENBQUMsR0FBRSxJQUFLLFNBQVM7QUFDN0csVUFBRSxHQUFHLEdBQUUsR0FBRSxHQUFFLEdBQUUsRUFBRSxJQUFHLENBQUMsR0FBRSxJQUFHLFdBQVc7QUFBRSxVQUFFLEdBQUcsR0FBRSxHQUFFLEdBQUUsR0FBRSxFQUFFLElBQUcsQ0FBQyxHQUFHLEdBQUcsVUFBVTtBQUFFLFVBQUUsR0FBRyxHQUFFLEdBQUUsR0FBRSxHQUFFLEVBQUUsSUFBRyxDQUFDLEdBQUUsSUFBSSxVQUFVO0FBQzdHLFVBQUUsR0FBRyxHQUFFLEdBQUUsR0FBRSxHQUFFLEVBQUUsSUFBRyxDQUFDLEdBQUUsSUFBRyxXQUFXO0FBQUUsVUFBRSxHQUFHLEdBQUUsR0FBRSxHQUFFLEdBQUUsRUFBRSxJQUFHLENBQUMsR0FBRSxJQUFLLFNBQVM7QUFBRSxVQUFFLEdBQUcsR0FBRSxHQUFFLEdBQUUsR0FBRSxFQUFFLElBQUcsQ0FBQyxHQUFHLEdBQUcsVUFBVTtBQUM3RyxVQUFFLEdBQUcsR0FBRSxHQUFFLEdBQUUsR0FBRSxFQUFFLElBQUcsQ0FBQyxHQUFFLElBQUcsV0FBVztBQUFFLFVBQUUsR0FBRyxHQUFFLEdBQUUsR0FBRSxHQUFFLEVBQUUsSUFBRSxFQUFFLEdBQUUsSUFBUSxNQUFNO0FBQUUsVUFBRSxHQUFHLEdBQUUsR0FBRSxHQUFFLEdBQUUsRUFBRSxJQUFFLEVBQUUsR0FBRSxJQUFHLFdBQVc7QUFDN0csVUFBRSxHQUFHLEdBQUUsR0FBRSxHQUFFLEdBQUUsRUFBRSxJQUFFLEVBQUUsR0FBRyxHQUFHLFVBQVU7QUFBRSxVQUFFLEdBQUcsR0FBRSxHQUFFLEdBQUUsR0FBRSxFQUFFLElBQUUsRUFBRSxHQUFFLElBQUssU0FBUztBQUFFLFVBQUUsR0FBRyxHQUFFLEdBQUUsR0FBRSxHQUFFLEVBQUUsSUFBRSxFQUFFLEdBQUUsSUFBRyxXQUFXO0FBQzdHLFVBQUUsR0FBRyxHQUFFLEdBQUUsR0FBRSxHQUFFLEVBQUUsSUFBRSxFQUFFLEdBQUUsSUFBSSxVQUFVO0FBQUUsVUFBRSxHQUFHLEdBQUUsR0FBRSxHQUFFLEdBQUUsRUFBRSxJQUFHLENBQUMsR0FBRyxHQUFHLFVBQVU7QUFBRSxVQUFFLEdBQUcsR0FBRSxHQUFFLEdBQUUsR0FBRSxFQUFFLElBQUcsQ0FBQyxHQUFHLEdBQUUsV0FBVztBQUM3RyxVQUFFLEdBQUcsR0FBRSxHQUFFLEdBQUUsR0FBRSxFQUFFLElBQUUsRUFBRSxHQUFFLElBQUssU0FBUztBQUFFLFVBQUUsR0FBRyxHQUFFLEdBQUUsR0FBRSxHQUFFLEVBQUUsSUFBRyxDQUFDLEdBQUUsSUFBSSxVQUFVO0FBQUUsVUFBRSxHQUFHLEdBQUUsR0FBRSxHQUFFLEdBQUUsRUFBRSxJQUFHLENBQUMsR0FBRyxHQUFHLFVBQVU7QUFDN0csVUFBRSxHQUFHLEdBQUUsR0FBRSxHQUFFLEdBQUUsRUFBRSxJQUFFLEVBQUUsR0FBRyxHQUFLLFFBQVE7QUFBRSxVQUFFLEdBQUcsR0FBRSxHQUFFLEdBQUUsR0FBRSxFQUFFLElBQUUsRUFBRSxHQUFFLElBQUksVUFBVTtBQUFFLFVBQUUsR0FBRyxHQUFFLEdBQUUsR0FBRSxHQUFFLEVBQUUsSUFBRyxDQUFDLEdBQUUsSUFBSSxVQUFVO0FBQzdHLFVBQUUsR0FBRyxHQUFFLEdBQUUsR0FBRSxHQUFFLEVBQUUsSUFBRyxDQUFDLEdBQUcsR0FBSSxTQUFTO0FBQUUsVUFBRSxHQUFHLEdBQUUsR0FBRSxHQUFFLEdBQUUsRUFBRSxJQUFFLEVBQUUsR0FBRyxHQUFFLFdBQVc7QUFBRSxVQUFFLEdBQUcsR0FBRSxHQUFFLEdBQUUsR0FBRSxFQUFFLElBQUcsQ0FBQyxHQUFFLElBQUksVUFBVTtBQUM3RyxVQUFFLEdBQUcsR0FBRSxHQUFFLEdBQUUsR0FBRSxFQUFFLElBQUcsQ0FBQyxHQUFFLElBQUksVUFBVTtBQUFFLFVBQUUsR0FBRyxHQUFFLEdBQUUsR0FBRSxHQUFFLEVBQUUsSUFBRSxFQUFFLEdBQUcsR0FBRSxXQUFXO0FBQUUsVUFBRSxHQUFHLEdBQUUsR0FBRSxHQUFFLEdBQUUsRUFBRSxJQUFHLENBQUMsR0FBRyxHQUFJLFNBQVM7QUFDN0csVUFBRSxHQUFHLEdBQUUsR0FBRSxHQUFFLEdBQUUsRUFBRSxJQUFHLENBQUMsR0FBRSxJQUFJLFVBQVU7QUFBRSxVQUFFLEdBQUcsR0FBRSxHQUFFLEdBQUUsR0FBRSxFQUFFLElBQUUsRUFBRSxHQUFFLElBQUcsV0FBVztBQUFFLFVBQUUsR0FBRyxHQUFFLEdBQUUsR0FBRSxHQUFFLEVBQUUsSUFBRyxDQUFDLEdBQUcsR0FBTSxPQUFPO0FBQzdHLFVBQUUsR0FBRyxHQUFFLEdBQUUsR0FBRSxHQUFFLEVBQUUsSUFBRyxDQUFDLEdBQUUsSUFBRyxXQUFXO0FBQUUsVUFBRSxHQUFHLEdBQUUsR0FBRSxHQUFFLEdBQUUsRUFBRSxJQUFFLEVBQUUsR0FBRSxJQUFJLFVBQVU7QUFBRSxVQUFFLEdBQUcsR0FBRSxHQUFFLEdBQUUsR0FBRSxFQUFFLElBQUUsRUFBRSxHQUFFLElBQUssU0FBUztBQUM3RyxVQUFFLEdBQUcsR0FBRSxHQUFFLEdBQUUsR0FBRSxFQUFFLElBQUcsQ0FBQyxHQUFHLEdBQUUsV0FBVztBQUFFLFVBQUUsR0FBRyxHQUFFLEdBQUUsR0FBRSxHQUFFLEVBQUUsSUFBRyxDQUFDLEdBQUUsSUFBSSxVQUFVO0FBQUUsVUFBRSxHQUFHLEdBQUUsR0FBRSxHQUFFLEdBQUUsRUFBRSxJQUFHLENBQUMsR0FBRSxJQUFJLFVBQVU7QUFDN0csVUFBRSxHQUFHLEdBQUUsR0FBRSxHQUFFLEdBQUUsRUFBRSxJQUFFLEVBQUUsR0FBRSxJQUFHLFdBQVc7QUFBRSxVQUFFLEdBQUcsR0FBRSxHQUFFLEdBQUUsR0FBRSxFQUFFLElBQUUsRUFBRSxHQUFHLEdBQUksU0FBUztBQUFFLFVBQUUsR0FBRyxHQUFFLEdBQUUsR0FBRSxHQUFFLEVBQUUsSUFBRyxDQUFDLEdBQUUsSUFBSSxVQUFVO0FBQzdHLFVBQUUsR0FBRyxHQUFFLEdBQUUsR0FBRSxHQUFFLEVBQUUsSUFBRyxDQUFDLEdBQUUsSUFBSSxVQUFVO0FBQUUsVUFBRSxHQUFHLEdBQUUsR0FBRSxHQUFFLEdBQUUsRUFBRSxJQUFHLENBQUMsR0FBRSxJQUFNLFFBQVE7QUFBRSxVQUFFLEdBQUcsR0FBRSxHQUFFLEdBQUUsR0FBRSxFQUFFLElBQUcsQ0FBQyxHQUFHLEdBQUcsVUFBVTtBQUM3RyxVQUFFLEdBQUcsR0FBRSxHQUFFLEdBQUUsR0FBRSxFQUFFLElBQUUsRUFBRSxHQUFFLElBQUksVUFBVTtBQUFFLFVBQUUsR0FBRyxHQUFFLEdBQUUsR0FBRSxHQUFFLEVBQUUsSUFBRSxFQUFFLEdBQUUsSUFBSyxTQUFTO0FBQUUsVUFBRSxHQUFHLEdBQUUsR0FBRSxHQUFFLEdBQUUsRUFBRSxJQUFHLENBQUMsR0FBRSxJQUFJLFVBQVU7QUFDN0csVUFBRSxHQUFHLEdBQUUsR0FBRSxHQUFFLEdBQUUsRUFBRSxJQUFHLENBQUMsR0FBRyxHQUFHLFVBQVU7QUFBRSxVQUFFLEdBQUcsR0FBRSxHQUFFLEdBQUUsR0FBRSxFQUFFLElBQUcsQ0FBQyxHQUFFLElBQUksVUFBVTtBQUFFLFVBQUUsR0FBRyxHQUFFLEdBQUUsR0FBRSxHQUFFLEVBQUUsSUFBRSxFQUFFLEdBQUUsSUFBRyxXQUFXO0FBQzdHLFVBQUUsR0FBRyxHQUFFLEdBQUUsR0FBRSxHQUFFLEVBQUUsSUFBRyxDQUFDLEdBQUUsSUFBSyxTQUFTO0FBQUUsVUFBRSxHQUFHLEdBQUUsR0FBRSxHQUFFLEdBQUUsRUFBRSxJQUFFLEVBQUUsR0FBRyxHQUFHLFVBQVU7QUFBRSxVQUFFLEdBQUcsR0FBRSxHQUFFLEdBQUUsR0FBRSxFQUFFLElBQUcsQ0FBQyxHQUFFLElBQUcsV0FBVztBQUM3RyxVQUFFLEdBQUcsR0FBRSxHQUFFLEdBQUUsR0FBRSxFQUFFLElBQUUsRUFBRSxHQUFFLElBQU0sUUFBUTtBQUFFLFVBQUUsR0FBRyxHQUFFLEdBQUUsR0FBRSxHQUFFLEVBQUUsSUFBRyxDQUFDLEdBQUUsSUFBRyxXQUFXO0FBQUUsVUFBRSxHQUFHLEdBQUUsR0FBRSxHQUFFLEdBQUUsRUFBRSxJQUFHLENBQUMsR0FBRyxHQUFHLFVBQVU7QUFDN0csVUFBRSxHQUFHLEdBQUUsR0FBRSxHQUFFLEdBQUUsRUFBRSxJQUFFLEVBQUUsR0FBRSxJQUFLLFNBQVM7QUFBRSxVQUFFLEdBQUcsR0FBRSxHQUFFLEdBQUUsR0FBRSxFQUFFLElBQUcsQ0FBQyxHQUFFLElBQUcsV0FBVztBQUFFLFVBQUUsR0FBRyxHQUFFLEdBQUUsR0FBRSxHQUFFLEVBQUUsSUFBRSxFQUFFLEdBQUUsSUFBSSxVQUFVO0FBQzdHLFVBQUUsR0FBRyxHQUFFLEdBQUUsR0FBRSxHQUFFLEVBQUUsSUFBRyxDQUFDLEdBQUcsR0FBRyxVQUFVO0FBQUUsVUFBRSxHQUFHLEdBQUUsR0FBRSxHQUFFLEdBQUUsRUFBRSxJQUFFLEVBQUUsR0FBRSxJQUFHLFdBQVc7QUFBRSxVQUFFLEdBQUcsR0FBRSxHQUFFLEdBQUUsR0FBRSxFQUFFLElBQUcsQ0FBQyxHQUFFLElBQUssU0FBUztBQUM3RyxVQUFFLEdBQUcsR0FBRSxHQUFFLEdBQUUsR0FBRSxFQUFFLElBQUcsQ0FBQyxHQUFFLElBQUksVUFBVTtBQUFFLFVBQUUsR0FBRyxHQUFFLElBQUk7QUFBRSxVQUFFLEdBQUcsR0FBRSxJQUFJO0FBQUUsVUFBRSxHQUFHLEdBQUUsSUFBSTtBQUFFLFVBQUUsR0FBRyxHQUFFLElBQUk7QUFBQSxJQUN6RjtBQUNBLFdBQU8sR0FBRyxDQUFDLElBQUUsR0FBRyxDQUFDLElBQUUsR0FBRyxDQUFDLElBQUUsR0FBRyxDQUFDO0FBQUEsRUFDOUI7QUFBQSxFQUVBLHlCQUF5QjtBQUN4QixTQUFLLG1DQUFtQyxTQUFTLENBQUMsUUFBUSxJQUFJLFFBQVE7QUFDckUsWUFBTSxNQUFNLEdBQUcsU0FBUyxLQUFLO0FBQzdCLFVBQUksYUFBYSxTQUFTLFVBQVU7QUFDcEMsZUFBUyxLQUFLLGdCQUFnQixNQUFNO0FBQ3BDLFlBQU0sVUFBVSxLQUFLLElBQUksTUFBTTtBQUMvQixlQUFTO0FBQUEsRUFBaUQsU0FBUyxRQUFRLHFCQUFxQixrQ0FBa0M7QUFDbEksWUFBTSxXQUFZLEtBQUssSUFBSSxNQUFNLFFBQWdCO0FBQ2pELFlBQU0sTUFBVyxjQUFhLFdBQUssVUFBVSxzQ0FBc0MsU0FBUyxDQUFDO0FBQzdGLFVBQUksQ0FBSSxlQUFXLEdBQUcsR0FBRztBQUN4QixRQUFHLGNBQVUsR0FBRztBQUNoQixRQUFHLGtCQUFtQixXQUFLLEtBQUssV0FBVyxHQUFFLE1BQU07QUFDbkQsdUNBQUssc0VBQXNFLEVBQUMsS0FBSyxLQUFLLFNBQVMsSUFBSyxHQUFHLENBQUMsT0FBTSxXQUFTO0FBQ3RILGNBQUksT0FBTztBQUNWLGdCQUFJLGNBQWMsT0FBTyxTQUFTLEVBQUUsUUFBUSxnQ0FBK0IsRUFBRSxFQUFFLFFBQVEsZUFBYyxNQUFNO0FBQzNHLFlBQUcsV0FBTyxLQUFLLEVBQUUsV0FBVyxNQUFNLE9BQU8sS0FBSyxDQUFDO0FBQUEsVUFDaEQsT0FBSztBQUNKLDJDQUFLLHdCQUF1QixFQUFDLEtBQUssS0FBSyxTQUFTLElBQUssR0FBRSxNQUFJO0FBQzFELG9CQUFNLE9BQVUsaUJBQWtCLFdBQUssS0FBSyxXQUFXLENBQUM7QUFDeEQsa0JBQUksWUFBWSxLQUFLLFdBQVcsS0FBSyxTQUFTLENBQUM7QUFDL0MsNkNBQUssZ0JBQWdCLEVBQUMsS0FBSyxLQUFLLFNBQVMsSUFBSyxDQUFDO0FBQy9DLDZDQUFLLGdCQUFnQixFQUFDLEtBQUssS0FBSyxTQUFTLElBQUssQ0FBQztBQUMvQyw2Q0FBSyxnQkFBZ0IsRUFBQyxLQUFLLEtBQUssU0FBUyxJQUFLLENBQUM7QUFDL0MsNkNBQUssZ0JBQWdCLEVBQUMsS0FBSyxLQUFLLFNBQVMsSUFBSyxDQUFDO0FBQUEsWUFDaEQsQ0FBQztBQUFBLFVBQ0Y7QUFBQSxRQUNELENBQUM7QUFBQSxNQUNGLE9BQUs7QUFDSixjQUFNLE9BQVUsaUJBQWtCLFdBQUssS0FBSyxXQUFXLENBQUM7QUFDeEQsWUFBSSxZQUFZLEtBQUssV0FBVyxLQUFLLFNBQVMsQ0FBQztBQUFBLE1BQ2hEO0FBQUEsSUFDRCxDQUFDO0FBQUEsRUFDRjtBQUNEOyIsCiAgIm5hbWVzIjogWyJpbXBvcnRfb2JzaWRpYW4iLCAiZnMiLCAicGF0aCIsICJmaWxlcyIsICJ4IiwgImMiLCAiYSIsICJiIiwgImQiLCAiaSJdCn0K
